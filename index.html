<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cyberglow Swap ‚Äî DEX on IOTA EVM</title>
  <meta name="description" content="Cyberglow Swap ($CGT) ‚Äî next-gen decentralized exchange built on IOTA EVM. Fast, feeless swaps and community-driven governance." />
  <link rel="icon" type="image/png" href="cyberglow-logo.png" />

  <!-- Google font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --neon: #00D8FF;
      --bg-dark: #030417;
      --muted: #cfeffc;
    }
    html,body { height:100%; margin:0; font-family: 'Poppins', sans-serif; background: radial-gradient(circle at 10% 10%, #060a1a 0%, #00030a 60%); color: #e9fbff; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    /* canvas background */
    canvas#stars { position:fixed; inset:0; z-index:0; }

    /* page container */
    .container { position:relative; z-index:2; min-height:100vh; display:flex; flex-direction:column; align-items:center; }

    header { width:100%; padding:28px 20px; display:flex; align-items:center; justify-content:space-between; gap:12px; box-sizing:border-box; z-index:3; }
    .brand { display:flex; align-items:center; gap:12px; }
    .logo { width:56px; height:auto; filter: drop-shadow(0 0 12px rgba(0,216,255,0.35)); transform-origin:center; animation: float 6s ease-in-out infinite, fadeZoom .9s ease forwards; opacity:0; }
    .brand h3 { margin:0; font-size:1.05rem; color:var(--neon); text-shadow:0 0 8px rgba(0,216,255,0.08); letter-spacing:1px; }
    nav { display:flex; gap:8px; align-items:center; }

    /* header buttons */
    .btn { padding:10px 14px; border-radius:999px; border: 1px solid rgba(0,216,255,0.12); background:transparent; color:var(--neon); cursor:pointer; transition:all .22s ease; box-shadow:0 6px 20px rgba(0,216,255,0.04); }
    .btn.primary { background: linear-gradient(90deg,var(--neon),#00FFFF); color:#001018; border:none; box-shadow:0 14px 40px rgba(0,216,255,0.12); }
    .btn:hover { transform:translateY(-4px); }

    /* hero */
    .hero { display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; gap:14px; padding:40px 20px; margin-top:36px; z-index:2; }
    h1 { margin:0; font-size:2.8rem; color:var(--neon); text-shadow:0 0 14px rgba(0,216,255,0.18); }
    p.lead { max-width:920px; margin:0 auto; color:#cfeffc; opacity:0.95; font-size:1.05rem; line-height:1.45; }

    /* widgets row */
    .widgets { display:flex; gap:12px; margin-top:8px; flex-wrap:wrap; justify-content:center; }

    /* info card */
    .card-row { display:flex; gap:18px; padding:32px 18px; flex-wrap:wrap; justify-content:center; z-index:2; }
    .card { width:300px; min-height:120px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01)); border:1px solid rgba(0,216,255,0.04); padding:16px; box-sizing:border-box; color:#dff6ff; }
    .card h4 { margin:0 0 8px 0; color:var(--neon); }

    /* social links */
    .socials { display:flex; gap:12px; align-items:center; justify-content:center; margin-top:12px; }
    .socials a { color:var(--neon); font-size:18px; text-decoration:none; padding:8px; border-radius:8px; display:inline-flex; align-items:center; gap:8px; border:1px solid rgba(0,216,255,0.04); background:rgba(255,255,255,0.005); transition:all .18s ease; }
    .socials a:hover { transform:translateY(-4px); box-shadow:0 8px 28px rgba(0,216,255,0.06); }

    /* footer */
    footer { margin-top:44px; padding:28px 12px; color:rgba(207,239,252,0.7); font-size:0.9rem; text-align:center; z-index:2; }

    /* small responsive */
    @media (max-width:820px){
      h1 { font-size:2rem; }
      .card { width:100%; max-width:420px; }
      .logo { width:48px; }
      header { padding:18px; }
    }

    /* animations */
    @keyframes float { 0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)} }
    @keyframes fadeZoom { from {opacity:0; transform:scale(.95)} to {opacity:1; transform:scale(1)} }
  </style>
</head>

<body>
  <!-- stars canvas -->
  <canvas id="stars"></canvas>

  <div class="container">
    <!-- header -->
    <header>
      <div class="brand">
        <img src="cyberglow-logo.png" alt="Cyberglow Logo" class="logo" onerror="this.style.display='none'"/>
        <h3>Cyberglow Swap</h3>
      </div>

      <nav>
        <button class="btn" id="btnAddIota">Add IOTA EVM</button>
        <button class="btn" id="btnSwitchTestnet">Add IOTA Testnet</button>
        <button class="btn primary" id="btnConnect">Connect Wallet</button>
      </nav>
    </header>

    <!-- hero -->
    <section class="hero" role="region" aria-label="Hero">
      <h1>Cyberglow Swap</h1>
      <p class="lead">
        Cyberglow Swap ($CGT) is a next-generation decentralized exchange built on <strong>IOTA EVM</strong>.
        Swap tokens, provide liquidity, and participate in community-driven governance with ultra-fast transactions and minimal fees.
        Our mission is to bring DeFi to the IOTA ecosystem with secure smart contracts, transparent governance and a developer-friendly platform.
      </p>

      <div class="widgets">
        <a class="btn primary" id="launchApp" href="https://starnovawars.github.io/cyberglow-swap/" target="_blank" rel="noopener">üöÄ Launch App</a>
        <button class="btn" id="btnMetaShort">MetaMask: <span id="metaLabel">Not connected</span></button>
      </div>

      <div class="socials" aria-label="Social links">
        <a href="https://x.com/Cyberglowswap" target="_blank" rel="noopener">X (Cyberglow)</a>
        <a href="https://t.me/cyberglowswap" target="_blank" rel="noopener">Telegram</a>
        <a href="https://medium.com/@Cyberglowdex/cyberglow-swap-defi-infrastructure-under-construction-on-iota-rebased-evm-a7c3d425efdc" target="_blank" rel="noopener">Medium</a>
        <a href="https://x.com/Jarrs899" target="_blank" rel="noopener">Founder</a>
      </div>
    </section>

    <!-- brief feature cards -->
    <div class="card-row" role="region" aria-label="Features">
      <div class="card">
        <h4>What is Cyberglow Swap?</h4>
        <p>Cyberglow Swap is a decentralized AMM (automated market maker) allowing permissionless token swaps and liquidity pools on IOTA EVM. Designed for low-cost, high-throughput trades with a community-first DAO model.</p>
      </div>

      <div class="card">
        <h4>Why IOTA EVM?</h4>
        <p>IOTA EVM provides a feeless and scalable environment for EVM-compatible smart contracts. By building on IOTA EVM, Cyberglow benefits from fast finality, low costs and access to the growing IOTA developer ecosystem.</p>
      </div>

      <div class="card">
        <h4>Core Features</h4>
        <ul style="margin:8px 0 0 18px; padding:0; text-align:left; color:#dff8ff;">
          <li>Swap: Instant token swaps</li>
          <li>Pools: Create & provide liquidity</li>
          <li>Earn: Yield farming and incentives</li>
          <li>Governance: Community voting & DAO</li>
        </ul>
      </div>
    </div>

    <!-- short CTA -->
    <section style="padding-top:18px; z-index:2;">
      <p style="max-width:820px; margin:0 auto; color:#cfeffc;">
        Want to interact with the DEX directly? Click <strong>Launch App</strong> or connect your MetaMask / IOTA Wallet using the buttons above. If you need help adding IOTA EVM to your wallet, use the "Add IOTA EVM" button.
      </p>
    </section>

    <!-- footer -->
    <footer>
      <div style="margin-bottom:10px;">¬© 2025 Cyberglow Swap ‚Äî Built on IOTA EVM ‚Ä¢ <a href="https://starnovawars.github.io/cyberglow-swap/" target="_blank" rel="noopener" style="color:var(--neon)">Open DEX</a></div>
      <div style="font-size:0.85rem; opacity:0.75;">Made with ‚ù§Ô∏è ‚Ä¢ Contact: <a href="https://x.com/Jarrs899" target="_blank" rel="noopener" style="color:var(--neon)">@Jarrs899</a></div>
    </footer>
  </div>

  <script>
    /* ---------- Stars background ---------- */
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    function resizeCanvas(){ canvas.width = innerWidth; canvas.height = innerHeight; }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    const stars = [];
    const STAR_COUNT = Math.max(60, Math.floor(window.innerWidth / 12));
    for(let i=0;i<STAR_COUNT;i++){
      stars.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.6+0.2, a: Math.random()*0.9, s: Math.random()*0.5+0.02 });
    }

    function drawStars(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for(const s of stars){
        ctx.beginPath();
        ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
        ctx.fillStyle = `rgba(0,216,255,${s.a})`;
        ctx.shadowBlur = 10;
        ctx.shadowColor = "#00d8ff";
        ctx.fill();
        s.y += s.s;
        if(s.y > canvas.height) s.y = 0;
      }
      requestAnimationFrame(drawStars);
    }
    drawStars();

    /* ---------- Wallet helpers (MetaMask) ---------- */
    const btnConnect = document.getElementById('btnConnect');
    const btnMetaShort = document.getElementById('btnMetaShort');
    const metaLabel = document.getElementById('metaLabel');

    function shortAddr(addr){
      if(!addr) return '';
      return addr.slice(0,6) + '...' + addr.slice(-4);
    }

    async function connectMetaMask(){
      if(!window.ethereum){
        alert('MetaMask not detected. Please install MetaMask or use a compatible browser.');
        return;
      }
      try{
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const address = accounts[0];
        metaLabel.textContent = shortAddr(address);
        btnMetaShort.classList.add('primary');
        // get native balance (wei)
        const balanceWei = await window.ethereum.request({ method: 'eth_getBalance', params: [address, 'latest'] });
        const bal = parseInt(balanceWei,16) / 1e18;
        metaLabel.textContent = shortAddr(address) + ' ‚Ä¢ ' + (bal.toFixed(4)) + ' IOTA';
      } catch(e){
        console.error(e);
        alert('Error connecting MetaMask: ' + (e.message || e));
      }
    }

    btnConnect.addEventListener('click', connectMetaMask);
    btnMetaShort.addEventListener('click', connectMetaMask);

    /* ---------- Add IOTA EVM chain to MetaMask (Mainnet and Testnet) ---------- */
    const btnAddIota = document.getElementById('btnAddIota');
    const btnSwitchTestnet = document.getElementById('btnSwitchTestnet');

    async function addIotaMainnet(){
      if(!window.ethereum){ alert('MetaMask not detected'); return; }
      try{
        await window.ethereum.request({
          method: 'wallet_addEthereumChain',
          params: [{
            chainId: '0x2276', // 8822
            chainName: 'IOTA EVM Mainnet',
            nativeCurrency: { name: 'IOTA', symbol: 'IOTA', decimals: 18 },
            rpcUrls: ['https://json-rpc.evm.iotaledger.net'],
            blockExplorerUrls: ['https://explorer.evm.iota.org']
          }]
        });
        alert('IOTA EVM Mainnet added to your wallet (or switched).');
      } catch(err){
        console.error(err);
        alert('Could not add network: ' + (err.message || err));
      }
    }

    async function addIotaTestnet(){
      if(!window.ethereum){ alert('MetaMask not detected'); return; }
      try{
        await window.ethereum.request({
          method: 'wallet_addEthereumChain',
          params: [{
            chainId: '0x433', // 1075
            chainName: 'IOTA EVM Testnet',
            nativeCurrency: { name: 'tIOTA', symbol: 'tIOTA', decimals: 18 },
            rpcUrls: ['https://json-rpc.testnet.evm.iotaledger.net'],
            blockExplorerUrls: ['https://explorer.testnet.evm.iota.org']
          }]
        });
        alert('IOTA EVM Testnet added to your wallet (or switched).');
      } catch(err){
        console.error(err);
        alert('Could not add network: ' + (err.message || err));
      }
    }

    btnAddIota.addEventListener('click', addIotaMainnet);
    btnSwitchTestnet.addEventListener('click', addIotaTestnet);

    /* ---------- Quick UX: update meta label if accounts changed ---------- */
    if(window.ethereum){
      window.ethereum.on && window.ethereum.on('accountsChanged', (accounts) => {
        if(accounts.length === 0){
          metaLabel.textContent = 'Not connected';
        } else {
          metaLabel.textContent = shortAddr(accounts[0]);
        }
      });
      window.ethereum.on && window.ethereum.on('chainChanged', (_chainId) => {
        // reload to reflect chain change in app if needed
        console.log('chain changed', _chainId);
      });
    }

  </script>
</body>
</html>
